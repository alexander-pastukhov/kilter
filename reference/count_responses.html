<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute total count and proportion responses for each level per combination of factors — count_responses • kilter</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute total count and proportion responses for each level per combination of factors — count_responses"><meta name="description" content="Compute total count and proportion of responses for each level per combination of factors
defined as a formula: &amp;lt;response_var&amp;gt; ~ &amp;lt;fixed_factor1&amp;gt; +  &amp;lt;fixed_factor2&amp;gt; + ... (1|&amp;lt;random_factor1&amp;gt;) + (1|&amp;lt;random_factor2&amp;gt;) + ....
The &amp;lt;response_var&amp;gt; must be a factor, as the function fills in missing response level counts with zeros."><meta property="og:description" content="Compute total count and proportion of responses for each level per combination of factors
defined as a formula: &amp;lt;response_var&amp;gt; ~ &amp;lt;fixed_factor1&amp;gt; +  &amp;lt;fixed_factor2&amp;gt; + ... (1|&amp;lt;random_factor1&amp;gt;) + (1|&amp;lt;random_factor2&amp;gt;) + ....
The &amp;lt;response_var&amp;gt; must be a factor, as the function fills in missing response level counts with zeros."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">kilter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute total count and proportion responses for each level per combination of factors</h1>

      <div class="d-none name"><code>count_responses.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute total count and proportion of responses for each level per combination of factors
defined as a formula: <code>&lt;response_var&gt; ~ &lt;fixed_factor1&gt; +  &lt;fixed_factor2&gt; + ... (1|&lt;random_factor1&gt;) + (1|&lt;random_factor2&gt;) + ...</code>.
The <code>&lt;response_var&gt;</code> must be a factor, as the function fills in missing response level counts with zeros.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">count_responses</span><span class="op">(</span><span class="va">df</span>, <span class="va">formula</span>, resample <span class="op">=</span> <span class="cn">FALSE</span>, predictions <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>Table with data</p></dd>


<dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>Formula that specifies outcome variable, fixed and random effects.</p></dd>


<dt id="arg-resample">resample<a class="anchor" aria-label="anchor" href="#arg-resample"></a></dt>
<dd><p>logical or formula. <code>resample = TRUE</code> : resampled with replacement over entire table. <code>resample = ~ &lt;var1&gt; + &lt;var2&gt; + ...</code> resample over grouped data.</p></dd>


<dt id="arg-predictions">predictions<a class="anchor" aria-label="anchor" href="#arg-predictions"></a></dt>
<dd><p>vector or NULL. Optional values that <em>replace</em> original response values. Useful for applying the same counting procedure for model predictions.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>tibble with columns for all fixed factors and response variable, as well as columns <code>N</code> (total count) and <code>P</code> (proportion of responses for this level).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The data is first grouped by all fixed and random factors and responses are counted per factor level. Any missing combinations are
filled in with zero counts. Next, function computes proportion of each response level for all fixed and random factors combinations.
Finally, it groups data only by fixed factors and compute total counts and averagere proportion of responses per factor level.</p>
<p>Optionally, the data can be resampled with replacement before counting. To resample over entire table set <code>resample = TRUE</code>. Alternatively,
you can resample within data group by using a formula: <code>resample = ~ &lt;var1&gt; + &lt;var2&gt; + ...</code>. Here, the data is first grouped and then resampled.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">art</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">counts</span> <span class="op">&lt;-</span> <span class="fu">count_responses</span><span class="op">(</span><span class="va">art</span>, <span class="va">Response</span> <span class="op">~</span> <span class="va">Group</span> <span class="op">+</span> <span class="va">PaintingKind</span> <span class="op">+</span> <span class="va">Scale</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># with resampling over entire table</span></span></span>
<span class="r-in"><span><span class="va">count_sample</span> <span class="op">&lt;-</span> <span class="fu">count_responses</span><span class="op">(</span><span class="va">art</span>, <span class="va">Response</span> <span class="op">~</span> <span class="va">Group</span> <span class="op">+</span> <span class="va">PaintingKind</span> <span class="op">+</span> <span class="va">Scale</span>, resample <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># with resampling per group</span></span></span>
<span class="r-in"><span><span class="va">count_sample</span> <span class="op">&lt;-</span> <span class="fu">count_responses</span><span class="op">(</span><span class="va">art</span>, <span class="va">Response</span> <span class="op">~</span> <span class="va">Group</span> <span class="op">+</span> <span class="va">PaintingKind</span> <span class="op">+</span> <span class="va">Scale</span>, resample <span class="op">=</span> <span class="op">~</span> <span class="va">Group</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexander Pastukhov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

